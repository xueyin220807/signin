<script src="/assets/js/vue.global.js"></script>
<style>
    .organization{
        display: flex;
        gap:1rem;
    }
    .organizationColumn{
        display: flex;
        flex-direction: column;
        gap:1rem;
    }
    .organizationAdd{
        width:10rem;
    }
</style>
<form id="add-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">

    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('ActivityName')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-name" class="form-control" name="row[name]" type="text" value="">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('School')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-school_id" data-rule="required" data-source="school/index" class="form-control selectpage" name="row[school_id]" type="text" value="">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Organization')}:</label>
        <div class="col-xs-12 col-sm-8 organizationColumn">
            <div id="app" class="organizationColumn">
                <template v-for="(item, index) in organizationInputs">
                    <div class="input-group organization">
                        <input id="c-organization" class="form-control" name="row[organization]" type="text" value="" placeholder="{:__('Please enter the organization name')}">
                        <template v-if="index>0">
                            <button class="btn btn-danger">{:__('Del')}</button>
                        </template>
                    </div>
                </template>
                <button type="button" class="btn btn-default organizationAdd" @click="organizationAdd()">{:__('Add')}</button>

            </div>

        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Personal')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-personal" class="form-control" name="row[personal]" type="text" value="" placeholder="{:__('Please enter the name')}">
        </div>
    </div>
    <div class="form-group layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-primary btn-embossed disabled">{:__('OK')}</button>
        </div>
    </div>
</form>
<script>
    const { createApp, ref } = Vue;
    createApp({
        setup() {
            const organizationInputs=ref([{}]);
            function organizationAdd(){
                organizationInputs.value.push({});
            }
            return {
                organizationInputs,
                organizationAdd
            }
        }
    }).mount('#app')
</script>
